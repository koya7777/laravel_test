#--------------------------------------------
# ◇Chapter15　 本管理アプリ：SESSIONを利用する
#--------------------------------------------



#**************************************************
# 1. SESSION（Flashメッセージを追加）
#**************************************************
/app/Http/Controllers/BooksController.php [@store]を変更（リスト15.1）
#--------------------------------------------
#登録処理「store」メソッド内の「redirect('/');」の後ろにwith(...)を追記する。
#以下参照


return redirect('/')->with('message', '本登録が完了しました');



#[END]--------------------------------------------




#**************************************************
# 2. SESSION（Flashメッセージを受け取り表示する）
#**************************************************
/resources/views/books.blade.phpに 以下コードを追加します（リスト15.2）。
#--------------------------------------------
#以下[END]までのコードをコピーし、表示したい箇所に追加します。

  @if (session('message'))
      <div class="alert alert-success">
          {{ session('message') }}
      </div>
  @endif

#[END]--------------------------------------------


